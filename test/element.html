<!doctype html>
<html>
<head>
  <title>elements tests</title>

  <script src="../node_modules/webcomponents.js/webcomponents-lite.min.js"></script>
  <link rel="import" href="../node_modules/mocha-test/mocha-test.html">
  <script src="../bram.js"></script>
</head>
<body>
  <template id="someTemplate">
    <span>{{hello}}</span>
  </template>
  <template id="clickTemplate">

  </template>
  <some-element id="someElement"></some-element>
  <light-element id="lightElement"></light-element>
  <click-element id="clickElement"></click-element>
<div id="host"></div>
<mocha-test>
<template>
  <script>
    describe("Bram.element", function(){
      before(function(){
        class SomeElement extends Bram.Element {
          static model() {
            return { hello: 'world' };
          }

          static template() {
            return "#someTemplate";
          }
        }

        customElements.define('some-element', SomeElement);
      });

      it("Renders to shadowRoot", function(){
        let root = someElement.shadowRoot;
        let txt = root.firstElementChild.textContent;

        assert.equal(txt, 'world');
      });

      describe('renderMode', function(){
        before(function(){
          class LightElement extends Bram.Element {
            static model() {
              return { hello: 'worked' };
            }
            static template() {
              return "#someTemplate";
            }
            static get renderMode() {
              return 'light';
            }
          }

          customElements.define('light-element', LightElement);
        });

        it('"light" renders to the element\'s light DOM', function(){
          let root = lightElement;
          let txt = root.firstElementChild.textContent;

          assert.equal(txt, 'worked');
        });
      });

      describe('Events', function(){
        it('Clicks work', function(){
          class ClickElement {
            doSomething() {

            }
          }
        });
      });
    });
  </script>
</template>
</mocha-test>
</body>
</html>
